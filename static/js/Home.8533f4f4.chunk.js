(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[9],{242:function(e,t,a){"use strict";a.r(t);var n=a(99),l=a(79),r=a(15),c=a(27),i=a.n(c),s=a(71),o=a(7),u=a.n(o),d=a(95),m=a(263),b=a(111),f=(a(133),Object(o.lazy)((function(){return Promise.all([a.e(1),a.e(16)]).then(a.bind(null,228))}))),v=Object(o.lazy)((function(){return Promise.all([a.e(4),a.e(22),a.e(6)]).then(a.bind(null,202))})),j=Object(o.lazy)((function(){return Promise.all([a.e(5),a.e(14)]).then(a.bind(null,218))})),O=Object(o.lazy)((function(){return Promise.all([a.e(0),a.e(3),a.e(11)]).then(a.bind(null,219))})),h=Object(o.lazy)((function(){return a.e(8).then(a.bind(null,97))})),E=Object(o.lazy)((function(){return Promise.all([a.e(5),a.e(10)]).then(a.bind(null,220))}));function g(e){var t=new Date(e);return t.setDate(t.getDate()-1),Object(s.a)(t,"yyyy-MM-dd")}function T(e,t,a){var n={};for(var l in e)for(var r in n[l]={},e[l])r!==a&&(n[l][r]={},n[l][r].delta=e[l][r].delta,n[l][r].total=e[l][r].total);for(var c in t)for(var i in t[c])if(!(i<a)){n[c][i]={};var s=g(i);for(var o in n[c][i].delta=t[c][i].delta,n[c][i].total={},n[c][i].delta)n[c][i].total[o]=n[c][s].total[o]+n[c][i].delta[o]}return n}t.default=function(e){var t=Object(o.useState)({stateCode:"TT",districtName:null}),a=Object(l.a)(t,2),c=a[0],g=a[1],p=Object(o.useState)(null),y=Object(l.a)(p,2),S=y[0],k=y[1],P=Object(s.a)(new Date,"yyyy-MM-dd"),w=Object(o.useState)(P),z=Object(l.a)(w,2),C=z[0],D=z[1],H=Object(o.useState)({}),M=Object(l.a)(H,2),N=M[0],I=M[1],A=Object(o.useState)({}),R=Object(l.a)(A,2),F=R[0],J=R[1],V=Object(m.a)().t;Object(o.useMemo)((function(){var e=i.a.get("https://api.covid19india.org/v3/min/timeseries.min.json"),t=i.a.get("https://vics-core.github.io/covid-api/predictions.json");i.a.all([e,t]).then(i.a.spread((function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=t[0].data,l=t[1].data,r=T(n,l,P);J(r)})))}),[P]),Object(o.useMemo)((function(){var e={};for(var t in F)F.hasOwnProperty(t)&&(e[t]=F[t][C]);I(e)}),[C,F]);var x=Object(o.useRef)(),q=Object(b.useIsVisible)(x,{once:!0}),B=["TT"].concat(Object(n.a)(Object(n.a)(new Set([].concat(Object(n.a)(Object.keys(r.e).filter((function(e){return"TT"!==e}))),Object(n.a)(Object.keys(N||{}).filter((function(e){return"TT"!==e})))))).sort()));return u.a.createElement(u.a.Fragment,null,u.a.createElement(d.a,null,u.a.createElement("title",null,"Coronavirus Projections for India - seva.ml"),u.a.createElement("meta",{name:"title",content:"Coronavirus Projections for India"})),u.a.createElement("div",{className:"Home"},u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement("div",{className:"Search"},u.a.createElement("h1",null,V("COVID-19 AI Predictions")))),u.a.createElement("div",{className:"home-left"},u.a.createElement("div",{className:"header"},F.TT&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",{style:{minHeight:"56px"}})},u.a.createElement(v,{setDate:D,dates:Object.keys(F.TT).reverse(),date:C}))),N.TT&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(E,{data:N.TT})),u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},F.TT&&u.a.createElement(O,Object.assign({timeseries:F.TT},{date:C}))),u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},N.TT&&u.a.createElement(j,{data:N,regionHighlighted:c,setRegionHighlighted:g}))),u.a.createElement("div",{className:"home-right",ref:x},q&&u.a.createElement(u.a.Fragment,null,F.TT&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(f,Object.assign({timeseries:F[c.stateCode]},{date:C,stateCodes:B},{regionHighlighted:c,setRegionHighlighted:g},{anchor:S,setAnchor:k})))))),q&&u.a.createElement(o.Suspense,{fallback:u.a.createElement("div",null)},u.a.createElement(h,null)))}}}]);
//# sourceMappingURL=Home.8533f4f4.chunk.js.map