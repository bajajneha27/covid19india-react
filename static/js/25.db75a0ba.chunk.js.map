{"version":3,"sources":["components/constants/chart-options.js","components/motion.js","components/videoplayer.js","components/footer.js"],"names":["chartOptions","title","text","chart","type","height","series","name","dataGrouping","forced","units","color","legend","align","verticalAlign","layout","x","y","floating","tooltip","formatter","formatNumber","this","format","credits","enabled","xAxis","tickInterval","range","yAxis","max","min","tickAmount","motion","axisLabel","loop","updateInterval","magnet","round","step","H","Motion","handleKeyEvents","e","window","event","which","togglePlayPause","playRange","value","parseFloat","updateChart","preventDefault","paused","options","merge","defaultOptions","dataLength","startIndex","splat","labels","length","playControls","createElement","id","renderTo","parentElement","playPauseBtn","className","playIcon","pick","playOutput","innerHTML","Date","predictionControl","noPrediction","noPredictionLabel","for","shortTermPrediction","shortTermPredictionLabel","longTermPrediction","checked","longTermPredictionLabel","Highcharts","addEvent","attractToStep","focus","inputValue","autoPlay","play","prototype","pauseIcon","reset","changeButtonType","timer","setInterval","playUpdate","pause","clearInterval","roundedInput","filter","currentAxisValue","each","charts","index","data","i","fullData","TT","isEmpty","Object","assign","selectedDate","transform","res","v","k","push","c","updateConfirmedCases","isNaN","updatePredictedCases","setData","updateChartSeries","p","update","updateYAxis","redraw","obj","toString","call","number","Math","Chart","callbacks","React","memo","useState","setOptions","queryStringParams","queryString","parse","location","search","models","model","split","useEffect","requests","axios","get","all","then","responses","ops","intersection","map","r","keys","highlightedDate","response","option","cloneDeep","concat","Helmet","content","style","animationDelay","key","highcharts","props","t","useTranslation","href","target","rel","justifyContent"],"mappings":"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","file":"static/js/25.db75a0ba.chunk.js","sourcesContent":["import {formatNumber} from '../../utils/commonfunctions';\n\nimport {format} from 'date-fns';\n\nexport const chartOptions = {\n  title: {\n    text: 'COVID-19 Predictions',\n  },\n  chart: {\n    type: 'spline',\n    height: 600,\n  },\n  series: [\n    {\n      name: 'Confirmed Cases',\n      dataGrouping: {\n        forced: true,\n        units: [['month', [1]]],\n      },\n      color: 'orange',\n    },\n    {\n      name: 'Predicted Cases',\n      dataGrouping: {\n        forced: true,\n        units: [['month', [1]]],\n      },\n      color: '#7cb5ec',\n    },\n  ],\n  legend: {\n    align: 'right',\n    verticalAlign: 'top',\n    layout: 'vertical',\n    x: -10,\n    y: 50,\n    floating: true,\n  },\n  tooltip: {\n    formatter: function () {\n      return (\n        '<b>' +\n        formatNumber(this.y) +\n        '</b><br/>' +\n        format(this.x, 'dd MMM, yyyy')\n      );\n    },\n  },\n  credits: {\n    enabled: false,\n  },\n  xAxis: {\n    type: 'datetime',\n    tickInterval: 30 * 24 * 3600 * 1000,\n    range: 12 * 30 * 24 * 3600 * 1000,\n  },\n  yAxis: {\n    title: {\n      text: 'Daily Reported Cases',\n    },\n    max: 175000,\n    min: 0,\n    tickAmount: 10,\n  },\n  motion: {\n    enabled: true,\n    axisLabel: 'date',\n    loop: false,\n    updateInterval: 1000,\n    magnet: {\n      round: 'round',\n      step: 1,\n    },\n  },\n};\n","/**\n * @license http://creativecommons.org/licenses/by-sa/4.0/ Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0)\n * @author  Lars Cabrera\n * @version 1.0.9\n */\n\nimport {format} from 'date-fns';\nimport Highcharts from 'highcharts/highstock';\nimport {transform, isEmpty, filter} from 'lodash';\nimport 'font-awesome/css/font-awesome.min.css';\n\n// JSLint options:\n/* global window*/\n(function (H) {\n  // Check if object is array\n  function isArray(obj) {\n    return Object.prototype.toString.call(obj) === '[object Array]';\n  }\n\n  // Sets up motion ready to use\n  function Motion(chart) {\n    const motion = this;\n\n    this.chart = chart;\n    this.paused = true;\n    this.options = H.merge(this.defaultOptions, this.chart.options.motion);\n    this.dataLength = 0;\n    this.options.startIndex = 0;\n    motion.options.series = H.splat(motion.options.series);\n    motion.dataLength =\n      motion.options && motion.options.labels && motion.options.labels.length;\n\n    // Play-controls HTML-div\n    this.playControls = H.createElement(\n      'div',\n      {\n        id: 'play-controls',\n      },\n      null,\n      this.chart.renderTo.parentElement.parentElement,\n      null\n    );\n\n    // Play/pause HTML-button\n    this.playPauseBtn = H.createElement(\n      'button',\n      {\n        id: 'play-pause-button',\n        title: 'play',\n      },\n      null,\n      this.playControls,\n      null\n    );\n    this.playPauseBtn.className = this.options.playIcon;\n    this.playPauseBtn.value = 'Play';\n\n    // Play-range HTML-input\n    this.playRange = H.createElement(\n      'input',\n      {\n        id: 'play-range',\n        type: 'range',\n        min: 0,\n        max: this.dataLength - 1,\n        step: this.options.magnet.step,\n      },\n      null,\n      this.playControls,\n      null\n    );\n    // Important: max must be set before value in order to allow for\n    // higher numbers than 100.\n    this.playRange.value = H.pick(this.options.startIndex, this.dataLength - 1);\n\n    // Play-range HTML-output\n    this.playOutput = H.createElement(\n      'label',\n      {\n        id: 'play-output',\n        name: this.options.axisLabel,\n      },\n      null,\n      this.playControls,\n      null\n    );\n\n    this.playOutput.innerHTML = format(\n      new Date(this.options.labels[this.round(this.playRange.value)]),\n      'dd MMM, yyyy'\n    );\n\n    // predictionControl div wrapper for radio buttons\n    this.predictionControl = H.createElement(\n      'div',\n      {\n        id: 'prediction-control',\n      },\n      null,\n      this.chart.renderTo.parentElement.parentElement,\n      null\n    );\n\n    this.noPrediction = H.createElement(\n      'input',\n      {\n        type: 'radio',\n        name: 'prediction-control',\n        id: 'no-prediction',\n        value: 0,\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n\n    this.noPredictionLabel = H.createElement(\n      'label',\n      {\n        for: 'no-prediction',\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n    this.noPredictionLabel.innerHTML = 'No Prediction';\n\n    this.shortTermPrediction = H.createElement(\n      'input',\n      {\n        type: 'radio',\n        name: 'prediction-control',\n        id: 'short-term-prediction',\n        value: 20,\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n\n    this.shortTermPredictionLabel = H.createElement(\n      'label',\n      {\n        for: 'short-term-prediction',\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n    this.shortTermPredictionLabel.innerHTML = 'Short Term Prediction';\n\n    this.longTermPrediction = H.createElement(\n      'input',\n      {\n        type: 'radio',\n        name: 'prediction-control',\n        id: 'long-term-prediction',\n        value: 'Infinite',\n        checked: true,\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n\n    this.longTermPredictionLabel = H.createElement(\n      'label',\n      {\n        for: 'long-term-prediction',\n      },\n      null,\n      this.predictionControl,\n      null\n    );\n    this.longTermPredictionLabel.innerHTML = 'Long Term Prediction';\n\n    // Common key event handler function\n    function handleKeyEvents(e) {\n      e = e || window.event;\n      switch (e.which) {\n        case 32: // Space\n          motion.togglePlayPause();\n          break;\n        case 37: // Left\n          motion.playRange.value = motion.round(\n            parseFloat(motion.playRange.value) - 1\n          );\n          motion.updateChart(motion.playRange.value);\n          break;\n        case 39: // Right\n          motion.playRange.value = motion.round(\n            parseFloat(motion.playRange.value) + 1\n          );\n          motion.updateChart(motion.playRange.value);\n          break;\n        default:\n          return;\n      }\n      e.preventDefault();\n    }\n\n    // Bind controls to events\n    Highcharts.addEvent(this.playPauseBtn, 'click', function () {\n      motion.togglePlayPause();\n    });\n    Highcharts.addEvent(this.playRange, 'mouseup', function () {\n      motion.attractToStep();\n    });\n    Highcharts.addEvent(this.playRange, 'input', function () {\n      motion.updateChart(this.value);\n    });\n    Highcharts.addEvent(this.predictionControl, 'change', function () {\n      motion.updateChart(motion.playRange.value);\n    });\n\n    // Request focus to the controls when clicking on controls div\n    Highcharts.addEvent(this.playControls, 'click', function () {\n      motion.playRange.focus();\n    });\n    // Bind keys to events\n    Highcharts.addEvent(this.playPauseBtn, 'keydown', handleKeyEvents);\n    Highcharts.addEvent(this.playRange, 'keydown', handleKeyEvents);\n\n    // Initial value\n    this.inputValue = parseFloat(this.playRange.value);\n\n    // Initial update\n    this.updateChart(this.inputValue);\n\n    // Auto-play\n    if (this.options.autoPlay) {\n      this.play();\n    }\n  }\n\n  // Default options for Motion\n  Motion.prototype.defaultOptions = {\n    enabled: true,\n    axisLabel: 'year',\n    autoPlay: false,\n    loop: false,\n    series: 0,\n    updateInterval: 10,\n    magnet: {\n      round: 'round',\n      step: 0.01,\n    },\n    playIcon: 'fa fa-play',\n    pauseIcon: 'fa fa-pause',\n  };\n\n  // Toggles between Play and Pause states, and makes calls to changeButtonType()\n  // From http://www.creativebloq.com/html5/build-custom-html5-video-player-9134473\n  Motion.prototype.togglePlayPause = function () {\n    this[this.paused ? 'play' : 'pause']();\n  };\n\n  // Plays the motion, continuously updating the chart\n  Motion.prototype.play = function () {\n    const motion = this;\n    if (\n      this.paused &&\n      parseFloat(this.playRange.value) === parseFloat(this.playRange.max)\n    ) {\n      this.reset();\n    }\n    this.changeButtonType('pause');\n    this.paused = false;\n    this.timer = setInterval(function () {\n      motion.playUpdate();\n    }, this.options.updateInterval);\n  };\n\n  // Pauses the motion, which stops updating the chart\n  Motion.prototype.pause = function () {\n    this.changeButtonType('play');\n    this.paused = true;\n    window.clearInterval(this.timer);\n    this.attractToStep();\n  };\n\n  // Resets the motion and updates the chart. Does not pause\n  Motion.prototype.reset = function () {\n    this.playRange.value = this.playRange.min;\n    this.updateChart(this.playRange.value);\n  };\n\n  // Updates a button's title, innerHTML and CSS class to a certain value\n  Motion.prototype.changeButtonType = function (value) {\n    this.playPauseBtn.title = value;\n    this.playPauseBtn.className = value + ' ';\n    if (value === 'play') {\n      this.playPauseBtn.className += this.options.playIcon;\n    } else if (value === 'pause') {\n      this.playPauseBtn.className += this.options.pauseIcon;\n    }\n  };\n\n  // Called continuously while playing\n  Motion.prototype.playUpdate = function () {\n    if (!this.paused) {\n      this.inputValue = parseFloat(this.playRange.value);\n      this.playRange.value = this.inputValue + this.options.magnet.step;\n      this.attractToStep();\n      this.updateChart(this.playRange.value); // Use playRange.value to get updated value\n      if (this.playRange.value >= parseFloat(this.playRange.max)) {\n        // Auto-pause\n        if (this.options.loop) {\n          this.reset();\n        } else {\n          this.pause();\n        }\n      }\n    }\n  };\n\n  // Updates chart data and redraws the chart\n  Motion.prototype.updateChart = function (inputValue) {\n    const roundedInput = this.options.labels[this.round(inputValue)];\n    let predictionControl =\n      filter(\n        [this.noPrediction, this.shortTermPrediction, this.longTermPrediction],\n        'checked'\n      )[0] || this.longTermPrediction;\n    predictionControl = predictionControl.value;\n    if (\n      this.currentAxisValue !== roundedInput ||\n      this.predictionControl.value !== predictionControl\n    ) {\n      this.currentAxisValue = roundedInput;\n      this.predictionControl.value = predictionControl;\n      this.chart.options.motion.startIndex = roundedInput;\n      H.each(H.charts, function (chart, index) {\n        updateChartSeries(chart, roundedInput, predictionControl);\n        updateYAxis(predictionControl);\n        chart.redraw();\n      });\n      this.attractToStep();\n    }\n  };\n\n  function updateChartSeries(chart, roundedInput, predictionControl) {\n    let data;\n    H.each(chart.series, function (series, i) {\n      const fullData =\n        chart.options.chart.fullData &&\n        chart.options.chart.fullData[roundedInput].TT;\n      if (isEmpty(fullData)) return;\n      if (i === 0) {\n        data = Object.assign(updateConfirmedCases(fullData, roundedInput));\n      } else if (i === 1) {\n        data = Object.assign(\n          updatePredictedCases(fullData, roundedInput, predictionControl)\n        );\n      }\n      series.setData(data);\n    });\n  }\n\n  function updateYAxis(predictionControl) {\n    const max = isNaN(predictionControl) ? 175000 : 80000;\n    H.each(H.charts, function (p, i) {\n      p.yAxis[0].update({\n        max: max,\n      });\n    });\n  }\n\n  function updateConfirmedCases(fullData, selectedDate) {\n    return transform(\n      fullData,\n      function (res, v, k) {\n        if (k <= selectedDate) {\n          res.push({x: new Date(k), y: v.c});\n        }\n      },\n      []\n    );\n  }\n\n  function updatePredictedCases(fullData, selectedDate, predictionControl) {\n    return transform(\n      fullData,\n      function (res, v, k) {\n        if (!isNaN(predictionControl) && res.length >= predictionControl)\n          return;\n        if (k >= selectedDate) {\n          res.push({x: new Date(k), y: v.c});\n        }\n      },\n      []\n    );\n  }\n\n  // Moves output value to data point\n  Motion.prototype.attractToStep = function () {\n    if (isArray(this.options.labels)) {\n      this.playOutput.innerHTML =\n        format(\n          new Date(this.options.labels[this.round(this.playRange.value)]),\n          'dd MMM, yyyy'\n        ) || '';\n    } else {\n      this.playOutput.innerHTML = this.round(this.playRange.value);\n    }\n  };\n\n  // Returns an integer rounded up, down or even depending on\n  // motion.magnet.round options.\n  Motion.prototype.round = function (number) {\n    return Math[this.options.magnet.round](number);\n  };\n\n  // Initiates motion automatically if motion options object exists and\n  // is not disabled\n  H.Chart.prototype.callbacks.push(function (chart) {\n    if (\n      chart.options.motion &&\n      chart.options.motion.enabled &&\n      H.charts.length === 1\n    ) {\n      chart.motion = new Motion(chart);\n    }\n  });\n\n  H.Motion = Motion;\n})(Highcharts);\n","import {chartOptions} from './constants/chart-options';\nimport Footer from './footer';\n\nimport axios from 'axios';\nimport HighchartsReact from 'highcharts-react-official';\nimport Highcharts from 'highcharts/highstock';\nimport {keys, transform, intersection, cloneDeep} from 'lodash';\nimport queryString from 'query-string';\nimport React, {useState, useEffect} from 'react';\nimport {Helmet} from 'react-helmet';\n\nimport './motion.js';\n\nfunction VideoPlayer() {\n  const [options, setOptions] = useState([]);\n  const queryStringParams = queryString.parse(window.location.search);\n  const models =\n    queryStringParams && queryStringParams.model\n      ? queryStringParams.model.split(',')\n      : ['1.1740'];\n\n  useEffect(() => {\n    const requests = [];\n    for (const model of models) {\n      requests.push(\n        axios.get(`https://vics-core.github.io/covid-api/vp/${model}.json`)\n      );\n    }\n\n    axios.all(requests).then((responses) => {\n      let ops = [];\n      const labels = intersection(...responses.map((r) => keys(r.data)));\n      const highlightedDate = labels[labels.length - 1];\n      responses.map((response, index) => {\n        const option = cloneDeep(chartOptions);\n        const data = response.data;\n        option.chart.fullData = data;\n        option.motion.labels = labels;\n        updateConfirmedCases(option, highlightedDate);\n        updatePredictedCases(option, highlightedDate);\n        ops = ops.concat(option);\n      });\n      setOptions(ops);\n    });\n\n    function updatePredictedCases(option, highlightedDate) {\n      const data = option.chart.fullData;\n      if (data[highlightedDate]) {\n        option.series[1].data = transform(\n          data[highlightedDate].TT,\n          function (res, v, k) {\n            if (k >= highlightedDate) {\n              res.push(createSeriesData(k, v));\n            }\n          },\n          []\n        );\n      }\n    }\n  }, []);\n\n  function updateConfirmedCases(option, highlightedDate) {\n    option.series[0].data = transform(\n      option.chart.fullData[highlightedDate].TT,\n      function (res, v, k) {\n        if (k <= highlightedDate) {\n          res.push({x: new Date(k), y: v.c});\n        }\n      },\n      []\n    );\n  }\n\n  function createSeriesData(key, value) {\n    return {x: new Date(key), y: value.c};\n  }\n\n  return (\n    <div className=\"VideoPlayer\">\n      <Helmet>\n        <title>Video Player - seva.ml</title>\n        <meta name=\"title\" content={`Video Player - seva.ml`} />\n        <meta\n          name=\"description\"\n          content=\"A video to demonstrate how the predictions are changing per day.\"\n        />\n      </Helmet>\n\n      <div className=\"header fadeInUp\" style={{animationDelay: '0.3s'}}>\n        <h1>Video Player</h1>\n      </div>\n      <div className=\"models\">\n        {options.map((option, index) => {\n          return (\n            <div className=\"model\" key={index}>\n              <HighchartsReact\n                options={option}\n                highcharts={Highcharts}\n              ></HighchartsReact>\n            </div>\n          );\n        })}\n      </div>\n      <Footer />\n    </div>\n  );\n}\n\nexport default React.memo(VideoPlayer);\n","import React from 'react';\nimport * as Icon from 'react-feather';\nimport {useTranslation} from 'react-i18next';\n\nfunction Footer(props) {\n  const {t} = useTranslation();\n\n  return (\n    <footer className=\"fadeInUp\" style={{animationDelay: '2s'}}>\n      <h3>{t('Look forward and drive!')}</h3>\n      <div>\n        <a\n          href=\"https://www.facebook.com/indiacovidseva\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"facebook\"\n          style={{justifyContent: 'center'}}\n        >\n          <Icon.Facebook />\n        </a>\n\n        <a\n          href=\"https://twitter.com/indiacovidseva\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"twitter\"\n          style={{justifyContent: 'center'}}\n        >\n          <Icon.Twitter />\n        </a>\n\n        <a\n          href=\"https://www.linkedin.com/company/indiacovidseva\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          className=\"linkedin\"\n          style={{justifyContent: 'center'}}\n        >\n          <Icon.Linkedin />\n        </a>\n\n        <a\n          href=\"https://github.com/VICS-CORE/covid19india-react\"\n          className=\"github\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <Icon.GitHub />\n        </a>\n      </div>\n\n      <h5>Built on covid19india.org</h5>\n    </footer>\n  );\n}\n\nexport default React.memo(Footer);\n"],"sourceRoot":""}